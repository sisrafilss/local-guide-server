model Listing {
    id           String          @id @default(uuid())
    guideId      String
    title        String
    description  String
    itinerary    String?
    price        Decimal         @db.Decimal(10, 2)
    durationMin  Int
    meetingPoint String
    maxGroupSize Int             @default(1)
    category     ListingCategory @default(CUSTOM)
    active       Boolean         @default(true)
    city         String
    lat          Float?
    lng          Float?
    imageURL     String?

    guide    Guide     @relation(fields: [guideId], references: [id], onDelete: Cascade)
    bookings Booking[]
    reviews  Review[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    user      User?    @relation(fields: [userId], references: [id])
    userId    String?
    images    Image[]

    @@map("listings")
}

model Image {
    id        String  @id @default(uuid())
    url       String
    publicId  String?
    listingId String?

    listing Listing? @relation(fields: [listingId], references: [id])

    @@map("images")
}
